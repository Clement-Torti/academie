
<script type="application/json" id="exercise-data">
    {
    "interactive_exercises": [
    {
    "id": "ex_001",
    "type": "selection_single",
    "difficulty": "easy",
    "instruction": "Selecciona el verbo correcto para la acción que interrumpe.",
    "prompt": "Je dormais quand le téléphone ______.",
    "content": {
    "options": [
    { "id": "opt_1", "text": "sonnait" },
    { "id": "opt_2", "text": "a sonné" },
    { "id": "opt_3", "text": "sonne" }
    ],
    "correct_option_id": "opt_2"
    },
    "feedback": {
    "correct": "¡Correcto! La interrupción (el teléfono sonó) va en Passé Composé.",
    "incorrect": "'Dormais' es el fondo (Imparfait). La acción que interrumpe debe ir en Passé Composé."
    }
    },
    {
    "id": "ex_002",
    "type": "sentence_builder",
    "difficulty": "medium",
    "instruction": "Ordena la frase: 'De repente, la luz se apagó'.",
    "prompt": null,
    "content": {
    "segments": ["Soudain", "la", "lumière", "s'est", "éteinte", "était"],
    "correct_order": ["Soudain", "la", "lumière", "s'est", "éteinte"],
    "distractors": ["était"]
    },
    "feedback": {
    "correct": "Bien hecho. 'Soudain' activa el Passé Composé.",
    "incorrect": "Recuerda que 'Soudain' marca un evento puntual, usamos Passé Composé."
    }
    },
    {
    "id": "ex_003",
    "type": "selection_single",
    "difficulty": "medium",
    "instruction": "Elige el conector adecuado para una acción simultánea.",
    "prompt": "______ je travaillais, mon chat dormait sur le bureau.",
    "content": {
    "options": [
    { "id": "opt_1", "text": "Soudain" },
    { "id": "opt_2", "text": "Pendant que" },
    { "id": "opt_3", "text": "Finalement" }
    ],
    "correct_option_id": "opt_2"
    },
    "feedback": {
    "correct": "Exacto. 'Pendant que' (mientras que) se usa para dos acciones paralelas en el pasado.",
    "incorrect": "'Soudain' es para interrupciones rápidas. Aquí ambas acciones son largas."
    }
    },
    {
    "id": "ex_004",
    "type": "full_translation",
    "difficulty": "hard",
    "instruction": "Traduce la frase completa (Atención al accidente).",
    "prompt": "Él resbaló en la calle.",
    "content": {
    "placeholder": "Escribe la frase completa...",
    "accepted_answers": ["Il a glissé dans la rue.", "Il a glissé sur la rue."],
    "special_characters": ["é", "è", "à", "ç", "ê", "î", "ô", "ù"]
    },
    "feedback": {
    "correct": "¡Muy bien! Il a glissé (Passé Composé).",
    "incorrect": "El verbo es 'Glisser'. Es un evento puntual, así que usa Passé Composé."
    }
    },
    {
    "id": "ex_005",
    "type": "true_false",
    "difficulty": "easy",
    "instruction": "¿Es correcto el uso de los tiempos verbales?",
    "prompt": "Il faisait beau quand je suis sorti.",
    "content": {
    "is_correct": true,
    "explanation": "Correcto. 'Il faisait beau' es el escenario (Imparfait) y 'Je suis sorti' es la acción (Passé Composé)."
    },
    "feedback": null
    },
    {
    "id": "ex_006",
    "type": "selection_single",
    "difficulty": "hard",
    "instruction": "Determina el tiempo verbal según el contexto.",
    "prompt": "À ce moment-là, je ______ compte que j'avais oublié mes clés.",
    "content": {
    "options": [
    { "id": "opt_1", "text": "me suis rendu" },
    { "id": "opt_2", "text": "me rendais" },
    { "id": "opt_3", "text": "me rendre" }
    ],
    "correct_option_id": "opt_1"
    },
    "feedback": {
    "correct": "¡Exacto! 'Se rendre compte' (darse cuenta) en un momento específico es Passé Composé.",
    "incorrect": "El marcador 'À ce moment-là' indica un punto preciso en el tiempo, usa Passé Composé."
    }
    },
    {
    "id": "ex_007",
    "type": "sentence_builder",
    "difficulty": "medium",
    "instruction": "Forma la frase: 'El camarero derramó el vino'.",
    "prompt": null,
    "content": {
    "segments": ["Le", "serveur", "a", "renversé", "le", "vin"],
    "correct_order": ["Le", "serveur", "a", "renversé", "le", "vin"],
    "distractors": ["renversait", "été"]
    },
    "feedback": {
    "correct": "Bien. Es un accidente puntual, usamos Passé Composé.",
    "incorrect": "Usa 'Avoir' + 'Renversé' (Participio)."
    }
    },
    {
    "id": "ex_008",
    "type": "selection_single",
    "difficulty": "medium",
    "instruction": "Elige la descripción correcta (Escenario).",
    "prompt": "La salle ______ vide et silencieuse.",
    "content": {
    "options": [
    { "id": "opt_1", "text": "a été" },
    { "id": "opt_2", "text": "était" },
    { "id": "opt_3", "text": "est" }
    ],
    "correct_option_id": "opt_2"
    },
    "feedback": {
    "correct": "Correcto. 'Était' para describir el estado de un lugar.",
    "incorrect": "No usamos Passé Composé (a été) para descripciones de fondo, usa Imparfait."
    }
    },
    {
    "id": "ex_009",
    "type": "full_translation",
    "difficulty": "hard",
    "instruction": "Traduce usando la estructura 'Como...' (Causa).",
    "prompt": "Como estaba lloviendo, tomé un taxi.",
    "content": {
    "placeholder": "Escribe la frase completa...",
    "accepted_answers": ["Comme il pleuvait, j'ai pris un taxi.", "Comme il pleuvait j'ai pris un taxi."],
    "special_characters": ["é", "è", "à", "ç", "ê", "î", "ô", "ù"]
    },
    "feedback": {
    "correct": "¡Excelente! Comme il pleuvait (Imparfait)... j'ai pris (PC).",
    "incorrect": "Recuerda: 'Comme' + Imparfait explica la causa. La consecuencia va en Passé Composé."
    }
    },
    {
    "id": "ex_010",
    "type": "selection_single",
    "difficulty": "hard",
    "instruction": "¿Qué verbo completa mejor la interrupción?",
    "prompt": "Nous regardions le film quand l'électricité ______.",
    "content": {
    "options": [
    { "id": "opt_1", "text": "coupait" },
    { "id": "opt_2", "text": "a coupé" },
    { "id": "opt_3", "text": "est coupée" }
    ],
    "correct_option_id": "opt_2"
    },
    "feedback": {
    "correct": "Bien. 'A coupé' (se cortó) es el evento repentino.",
    "incorrect": "La electricidad se cortó de golpe, usa Passé Composé."
    }
    },
    {
    "id": "ex_011",
    "type": "sentence_builder",
    "difficulty": "medium",
    "instruction": "Ordena los elementos de la historia.",
    "prompt": null,
    "content": {
    "segments": ["Tout", "à", "coup", "il", "est", "tombé"],
    "correct_order": ["Tout", "à", "coup", "il", "est", "tombé"],
    "distractors": ["tombait", "le"]
    },
    "feedback": {
    "correct": "Perfecto. Marcador temporal + Sujeto + Verbo.",
    "incorrect": "Recuerda: 'Tout à coup' va al principio o al final, pero suele iniciar la acción."
    }
    },
    {
    "id": "ex_012",
    "type": "true_false",
    "difficulty": "medium",
    "instruction": "Analiza la frase: 'Je marchais quand j'ai vu Paul.'",
    "prompt": "¿La acción de 'ver a Paul' interrumpe la acción de 'caminar'?",
    "content": {
    "is_correct": true,
    "explanation": "Sí. Caminar es el proceso (Imparfait) y ver es el evento puntual (Passé Composé)."
    },
    "feedback": null
    },
    {
    "id": "ex_013",
    "type": "selection_single",
    "difficulty": "easy",
    "instruction": "Elige la palabra para 'Desafortunadamente'.",
    "prompt": "______, j'ai perdu mes clés.",
    "content": {
    "options": [
    { "id": "opt_1", "text": "Heureusement" },
    { "id": "opt_2", "text": "Malheureusement" },
    { "id": "opt_3", "text": "Soudainement" }
    ],
    "correct_option_id": "opt_2"
    },
    "feedback": {
    "correct": "Correcto. Malheureusement = Desafortunadamente.",
    "incorrect": "Heureusement es Afortunadamente."
    }
    },
    {
    "id": "ex_014",
    "type": "full_translation",
    "difficulty": "hard",
    "instruction": "Traduce la frase completa.",
    "prompt": "Ese día, había mucha gente.",
    "content": {
    "placeholder": "Escribe la frase completa...",
    "accepted_answers": ["Ce jour-là, il y avait beaucoup de monde.", "Ce jour-là il y avait beaucoup de monde."],
    "special_characters": ["é", "è", "à", "ç", "ê", "î", "ô", "ù"]
    },
    "feedback": {
    "correct": "¡Muy bien! 'Il y avait' (Imparfait) para describir la multitud.",
    "incorrect": "Usa 'Ce jour-là' como marcador y 'Il y avait' para la descripción."
    }
    },
    {
    "id": "ex_015",
    "type": "selection_single",
    "difficulty": "hard",
    "instruction": "Identifica el verbo que expresa un estado mental (Imparfait).",
    "prompt": "Je ne ______ pas qu'il était là.",
    "content": {
    "options": [
    { "id": "opt_1", "text": "savais" },
    { "id": "opt_2", "text": "ai su" },
    { "id": "opt_3", "text": "su" }
    ],
    "correct_option_id": "opt_1"
    },
    "feedback": {
    "correct": "Correcto. 'Savoir' en imperfecto describe el estado mental 'No sabía'.",
    "incorrect": "Para estados mentales continuos (saber, querer, poder), preferimos el Imparfait."
    }
    },
    {
    "id": "ex_016",
    "type": "sentence_builder",
    "difficulty": "medium",
    "instruction": "Forma la frase: 'El coche se averió'.",
    "prompt": null,
    "content": {
    "segments": ["La", "voiture", "est", "tombée", "en", "panne"],
    "correct_order": ["La", "voiture", "est", "tombée", "en", "panne"],
    "distractors": ["a", "été"]
    },
    "feedback": {
    "correct": "Exacto. La expresión es 'Tomber en panne' conjugada con Être.",
    "incorrect": "Cuidado: 'Tomber' usa el auxiliar Être (est tombée)."
    }
    },
    {
    "id": "ex_017",
    "type": "selection_single",
    "difficulty": "medium",
    "instruction": "¿Qué ocurrió 'Finalement' (Finalmente)?",
    "prompt": "Finalement, nous ______ au restaurant.",
    "content": {
    "options": [
    { "id": "opt_1", "text": "allions" },
    { "id": "opt_2", "text": "sommes allés" },
    { "id": "opt_3", "text": "allons" }
    ],
    "correct_option_id": "opt_2"
    },
    "feedback": {
    "correct": "Bien. 'Finalement' introduce la conclusión de la historia (Passé Composé).",
    "incorrect": "Las conclusiones son eventos que cierran la historia, usa Passé Composé."
    }
    },
    {
    "id": "ex_018",
    "type": "true_false",
    "difficulty": "hard",
    "instruction": "¿Esta frase es gramaticalmente lógica?",
    "prompt": "Soudain, il pleuvait.",
    "content": {
    "is_correct": false,
    "explanation": "Extraño. 'Soudain' pide una acción (Il a plu / Il s'est mis à pleuvoir). 'Pleuvait' es fondo."
    },
    "feedback": null
    },
    {
    "id": "ex_019",
    "type": "selection_single",
    "difficulty": "hard",
    "instruction": "Elige el verbo correcto para 'Tener lugar' (Ocurrir).",
    "prompt": "La réunion ______ hier soir.",
    "content": {
    "options": [
    { "id": "opt_1", "text": "avait lieu" },
    { "id": "opt_2", "text": "a eu lieu" },
    { "id": "opt_3", "text": "a lieu" }
    ],
    "correct_option_id": "opt_2"
    },
    "feedback": {
    "correct": "¡Correcto! 'Avoir lieu' en Passé Composé porque ocurrió en un momento específico.",
    "incorrect": "'Hier soir' (ayer por la noche) es un momento específico, usa Passé Composé."
    }
    },
    {
    "id": "ex_020",
    "type": "full_translation",
    "difficulty": "hard",
    "instruction": "Traduce: 'Ella gritó cuando vio el ratón'.",
    "prompt": "Ella gritó cuando vio el ratón.",
    "content": {
    "placeholder": "Escribe la frase completa...",
    "accepted_answers": ["Elle a crié quand elle a vu la souris.", "Elle a crié quand elle a vu le rat."],
    "special_characters": ["é", "è", "à", "ç", "ê", "î", "ô", "ù"]
    },
    "feedback": {
    "correct": "Excelente. Dos acciones puntuales consecutivas: 'A crié' y 'A vu'.",
    "incorrect": "Ambos verbos son acciones rápidas (gritar y ver), usa Passé Composé en los dos."
    }
    },
    {
    "id": "ex_021",
    "type": "sentence_builder",
    "difficulty": "hard",
    "instruction": "Ordena la frase: 'Nosotros nos dimos cuenta demasiado tarde'.",
    "prompt": null,
    "content": {
    "segments": ["Nous", "nous", "sommes", "rendu", "compte", "trop", "tard"],
    "correct_order": ["Nous", "nous", "sommes", "rendu", "compte", "trop", "tard"],
    "distractors": ["avons", "rendus"]
    },
    "feedback": {
    "correct": "Muy bien. Verbo pronominal en Passé Composé.",
    "incorrect": "Es 'Se rendre compte'. Con Nous -> Nous nous sommes rendu compte."
    }
    },
    {
    "id": "ex_022",
    "type": "selection_single",
    "difficulty": "medium",
    "instruction": "¿Qué palabra significa 'Testigo'?",
    "prompt": "Le ______ a raconté l'accident à la police.",
    "content": {
    "options": [
    { "id": "opt_1", "text": "foule" },
    { "id": "opt_2", "text": "témoin" },
    { "id": "opt_3", "text": "panne" }
    ],
    "correct_option_id": "opt_2"
    },
    "feedback": {
    "correct": "Correcto. Le témoin.",
    "incorrect": "Foule es multitud, Panne es avería."
    }
    },
    {
    "id": "ex_023",
    "type": "true_false",
    "difficulty": "hard",
    "instruction": "Verdadero o Falso: 'D'abord' (Primero) suele iniciar una serie de acciones en Passé Composé.",
    "prompt": "Uso de 'D'abord'.",
    "content": {
    "is_correct": true,
    "explanation": "Verdadero. D'abord, Ensuite, Puis... se usan para enumerar acciones consecutivas."
    },
    "feedback": null
    },
    {
    "id": "ex_024",
    "type": "selection_single",
    "difficulty": "medium",
    "instruction": "Completa la frase con la acción correcta.",
    "prompt": "Elle portait une robe blanche quand tu l'______ (tacher - manchar).",
    "content": {
    "options": [
    { "id": "opt_1", "text": "as tachée" },
    { "id": "opt_2", "text": "tachais" },
    { "id": "opt_3", "text": "a taché" }
    ],
    "correct_option_id": "opt_1"
    },
    "feedback": {
    "correct": "Bien. 'As tachée' (Passé Composé) interrumpe el hecho de llevar la ropa.",
    "incorrect": "La acción de manchar es puntual, usa Passé Composé."
    }
    },
    {
        "id": "ex_reading_l7_01",
        "type": "reading_comprehension",
        "difficulty": "hard",
        "instruction": "Lisez l'anecdote et identifiez les changements de temps (Imparfait/Passé Composé).",
        "prompt": "Une surprise dans la rue",
        "content": {
          "text": "C'était un mardi matin d'hiver. Il faisait froid et il y avait beaucoup de vent. Je marchais tranquillement vers le bureau. Je pensais à ma réunion de 10 heures et je n'étais pas très pressé.<br><br>Soudain, j'ai entendu un bruit bizarre derrière moi. Je me suis retourné et j'ai vu un gros chien qui courait avec un sac à main dans la bouche ! Une dame criait : « Arrêtez-le ! ». J'ai essayé d'attraper le chien, mais malheureusement, j'ai glissé sur une feuille morte. Finalement, le chien a lâché le sac et la dame était très contente.",
          "questions": [
            {
              "id": "q1",
              "prompt": "Que faisait le narrateur avant l'incident ?",
              "answer": "Il marchait tranquillement vers le bureau."
            },
            {
              "id": "q2",
              "prompt": "Quel événement soudain est arrivé ?",
              "answer": "Il a vu un chien courir avec un sac à main."
            },
            {
              "id": "q3",
              "prompt": "Pourquoi le narrateur est-il tombé ?",
              "answer": "Parce qu'il a glissé sur une feuille morte."
            }
          ]
        },
        "feedback": {
          "correct": "Excellent ! Vous avez bien distingué le contexte (marche, pensées) de l'action soudaine.",
          "incorrect": null
        }
      },
      {
        "id": "ex_speaking_l7_01",
        "type": "expression",
        "difficulty": "hard",
        "instruction": "Pratique orale : Racontez une histoire.",
        "prompt": "Sujet libre : 4 minutes",
        "content": {
          "theme": "Cuenta una anécdota sobre algo inesperado que te pasó (un pequeño accidente, una sorpresa o un encuentro). <br><br>Empieza describiendo el contexto (dónde estabas, qué tiempo hacía, qué estabas haciendo) y usa la palabra 'Soudain' (De repente) para introducir la acción principal. Termina contando cómo se resolvió. Usa: <em>être, avoir, soudain, heureusement/malheureusement</em>.",
          "duration_seconds": 240
        },
        "feedback": {
          "correct": "Bravo ! L'alternance entre la description (Imparfait) et l'action (Passé Composé) est la clé d'un bon récit.",
          "incorrect": null
        }
      }
    ]
    }
    </script>