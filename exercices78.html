<script type="application/json" id="exercise-data">
    {
    "interactive_exercises": [
    {
    "id": "ex_025",
    "type": "selection_single",
    "difficulty": "medium",
    "instruction": "Selecciona la conjugación correcta para la condición (Si...).",
    "prompt": "Si tu ______ le dossier, tu aurais compris le problème.",
    "content": {
    "options": [
    { "id": "opt_1", "text": "avais lu" },
    { "id": "opt_2", "text": "aurais lu" },
    { "id": "opt_3", "text": "lisais" }
    ],
    "correct_option_id": "opt_1"
    },
    "feedback": {
    "correct": "¡Correcto! Después de 'Si' usamos Plus-que-parfait (avais lu) para el pasado hipotético.",
    "incorrect": "Recuerda la regla: Si + Plus-que-parfait. No uses el condicional después de 'Si'."
    }
    },
    {
    "id": "ex_026",
    "type": "selection_single",
    "difficulty": "medium",
    "instruction": "Elige la consecuencia correcta.",
    "prompt": "Si j'avais su, je ne ______ pas ______.",
    "content": {
    "options": [
    { "id": "opt_1", "text": "suis / venu" },
    { "id": "opt_2", "text": "serais / venu" },
    { "id": "opt_3", "text": "étais / venu" }
    ],
    "correct_option_id": "opt_2"
    },
    "feedback": {
    "correct": "¡Exacto! La consecuencia va en Condicional Pasado (serais venu).",
    "incorrect": "Necesitas el Condicional Pasado (serais), no el Presente ni el Plus-que-parfait."
    }
    },
    {
    "id": "ex_027",
    "type": "sentence_builder",
    "difficulty": "hard",
    "instruction": "Ordena la frase para expresar un arrepentimiento.",
    "prompt": null,
    "content": {
    "segments": ["Si", "j'avais", "su,", "je", "l'aurais", "fait"],
    "correct_order": ["Si", "j'avais", "su,", "je", "l'aurais", "fait"],
    "distractors": ["saurai", "fais"]
    },
    "feedback": {
    "correct": "¡Muy bien! 'Si j'avais su, je l'aurais fait' es la frase clásica de arrepentimiento.",
    "incorrect": "Sigue la fórmula: Si + PQP (avais su) + Condicional (aurais fait)."
    }
    },
    {
    "id": "ex_028",
    "type": "true_false",
    "difficulty": "medium",
    "instruction": "¿Esta frase es gramaticalmente correcta?",
    "prompt": "Si il avait pleuvu, nous serions restés.",
    "content": {
    "is_correct": false,
    "explanation": "Error de ortografía: 'Si' + 'il' debe contraerse siempre a 'S'il'."
    },
    "feedback": null
    },
    {
    "id": "ex_029",
    "type": "selection_single",
    "difficulty": "hard",
    "instruction": "Selecciona la forma correcta para un verbo de movimiento (Partir).",
    "prompt": "Si elles avaient eu le temps, elles ______.",
    "content": {
    "options": [
    { "id": "opt_1", "text": "auraient parti" },
    { "id": "opt_2", "text": "seraient parties" },
    { "id": "opt_3", "text": "seraient partis" }
    ],
    "correct_option_id": "opt_2"
    },
    "feedback": {
    "correct": "¡Excelente! 'Partir' usa Être, y 'Elles' requiere concordancia femenina plural (parties).",
    "incorrect": "Recuerda: 'Partir' se conjuga con Être. Además, verifica el género (Elles)."
    }
    },
    {
    "id": "ex_030",
    "type": "full_translation",
    "difficulty": "hard",
    "instruction": "Traduce: 'Si me hubieras escuchado, habríamos evitado esto'.",
    "prompt": "Si me hubieras escuchado, habríamos evitado esto.",
    "content": {
    "placeholder": "Escribe la frase completa...",
    "accepted_answers": [
    "Si tu m'avais écouté, nous aurions évité ça.",
    "Si tu m'avais écouté nous aurions évité ça.",
    "Si tu m'avais écouté, on aurait évité ça.",
    "Si tu m'avais écoutée, nous aurions évité ça."
    ],
    "special_characters": ["é", "è", "à", "ç", "ê", "î", "ô", "ù"]
    },
    "feedback": {
    "correct": "Bravo. Usaste correctamente el PQP y el Condicional Pasado.",
    "incorrect": "Pista: Si tu m'avais écouté, nous aurions évité..."
    }
    },
    {
    "id": "ex_031",
    "type": "selection_single",
    "difficulty": "medium",
    "instruction": "¿Qué significa 'J'aurais dû'?",
    "prompt": "J'aurais dû vérifier la météo.",
    "content": {
    "options": [
    { "id": "opt_1", "text": "Debí haber verificado el clima." },
    { "id": "opt_2", "text": "Verifiqué el clima." },
    { "id": "opt_3", "text": "Me gustaría verificar el clima." }
    ],
    "correct_option_id": "opt_1"
    },
    "feedback": {
    "correct": "Correcto. 'Aurais dû' es el Condicional Pasado de Devoir (Debería haber...).",
    "incorrect": "Es una expresión de arrepentimiento sobre el pasado (Debería haber...)."
    }
    },
    {
    "id": "ex_032",
    "type": "sentence_builder",
    "difficulty": "hard",
    "instruction": "Forma una frase sobre un error evitado.",
    "prompt": null,
    "content": {
    "segments": ["Nous", "aurions", "pu", "éviter", "ce", "drame"],
    "correct_order": ["Nous", "aurions", "pu", "éviter", "ce", "drame"],
    "distractors": ["pouvons", "avions"]
    },
    "feedback": {
    "correct": "Bien hecho. 'Aurions pu' (Habríamos podido).",
    "incorrect": "Usa el auxiliar en condicional (aurions) + participio de Pouvoir (pu)."
    }
    },
    {
    "id": "ex_033",
    "type": "true_false",
    "difficulty": "hard",
    "instruction": "Analiza la concordancia: 'Si elle était venu, elle l'aurait vu'.",
    "prompt": "Si elle était venu, elle l'aurait vu.",
    "content": {
    "is_correct": false,
    "explanation": "Falso. Al usar 'Elle' con Être (était), falta la 'e' de concordancia: 'Si elle était venuE'."
    },
    "feedback": null
    },
    {
    "id": "ex_034",
    "type": "selection_single",
    "difficulty": "medium",
    "instruction": "Completa con el vocabulario de la lección.",
    "prompt": "J'ai fait une grosse ______ devant le client.",
    "content": {
    "options": [
    { "id": "opt_1", "text": "gaffe" },
    { "id": "opt_2", "text": "fière" },
    { "id": "opt_3", "text": "réussite" }
    ],
    "correct_option_id": "opt_1"
    },
    "feedback": {
    "correct": "¡Sí! 'Une gaffe' es un error o metedura de pata.",
    "incorrect": "El contexto implica algo negativo (error) frente al cliente."
    }
    },
    {
    "id": "ex_035",
    "type": "selection_single",
    "difficulty": "medium",
    "instruction": "Elige la estructura negativa correcta.",
    "prompt": "Si tu ______ menti, je t'aurais aidé.",
    "content": {
    "options": [
    { "id": "opt_1", "text": "n'avais pas" },
    { "id": "opt_2", "text": "n'aurais pas" },
    { "id": "opt_3", "text": "n'étais pas" }
    ],
    "correct_option_id": "opt_1"
    },
    "feedback": {
    "correct": "Correcto. 'Si tu n'avais pas menti' (Si no hubieras mentido).",
    "incorrect": "Necesitamos Plus-que-parfait (avais). Menti viene de Mentir (auxiliar Avoir)."
    }
    },
    {
    "id": "ex_036",
    "type": "full_translation",
    "difficulty": "hard",
    "instruction": "Traduce usando 'S'excuser': 'Él se habría disculpado'.",
    "prompt": "Él se habría disculpado.",
    "content": {
    "placeholder": "Escribe la frase completa...",
    "accepted_answers": [
    "Il se serait excusé.",
    "Il se serait excusé"
    ],
    "special_characters": ["é", "è", "à", "ç", "ê", "î", "ô", "ù"]
    },
    "feedback": {
    "correct": "¡Excelente! Verbo reflexivo en condicional pasado: Il se serait excusé.",
    "incorrect": "Cuidado con los verbos reflexivos en tiempos compuestos: usan 'être' (se serait)."
    }
    },
    {
    "id": "ex_037",
    "type": "sentence_builder",
    "difficulty": "hard",
    "instruction": "Ordena la frase (Cuidado con los auxiliares).",
    "prompt": null,
    "content": {
    "segments": ["Si", "nous", "étions", "partis", "plus", "tôt"],
    "correct_order": ["Si", "nous", "étions", "partis", "plus", "tôt"],
    "distractors": ["avions", "serions"]
    },
    "feedback": {
    "correct": "Correcto. 'Si nous étions partis...' (Partir usa Être en PQP).",
    "incorrect": "En la parte del 'Si', usa el imperfecto del auxiliar (étions, no serions)."
    }
    },
    {
    "id": "ex_038",
    "type": "selection_single",
    "difficulty": "medium",
    "instruction": "¿Qué verbo auxiliar necesita 'Prévenir'?",
    "prompt": "Si tu m'______ prévenu.",
    "content": {
    "options": [
    { "id": "opt_1", "text": "avais" },
    { "id": "opt_2", "text": "étais" },
    { "id": "opt_3", "text": "aurais" }
    ],
    "correct_option_id": "opt_1"
    },
    "feedback": {
    "correct": "Sí. Prévenir usa Avoir. 'Si tu m'avais prévenu'.",
    "incorrect": "Prévenir no es un verbo de movimiento ni reflexivo, usa Avoir."
    }
    },
    {
    "id": "ex_039",
    "type": "true_false",
    "difficulty": "medium",
    "instruction": "Verdadero o Falso: 'Si j'aurais le temps' es correcto.",
    "prompt": "Si j'aurais le temps, je viendrais.",
    "content": {
    "is_correct": false,
    "explanation": "Falso. JAMÁS se usa el condicional (aurais) justo después de 'Si'. Debe ser 'Si j'avais le temps'."
    },
    "feedback": null
    },
    {
    "id": "ex_040",
    "type": "full_translation",
    "difficulty": "hard",
    "instruction": "Traduce la frase completa.",
    "prompt": "Yo no habría perdido mi empleo.",
    "content": {
    "placeholder": "Escribe la frase completa...",
    "accepted_answers": [
    "Je n'aurais pas perdu mon emploi.",
    "Je n'aurais pas perdu mon travail.",
    "Je n'aurais pas perdu mon job."
    ],
    "special_characters": ["é", "è", "à", "ç", "ê", "î", "ô", "ù"]
    },
    "feedback": {
    "correct": "Muy bien. Negativo + Condicional Pasado.",
    "incorrect": "Estructura: Sujeto + ne + auxiliar (aurais) + pas + participio (perdu)."
    }
    },
    {
    "id": "ex_041",
    "type": "selection_single",
    "difficulty": "hard",
    "instruction": "Completa con la forma correcta de Être.",
    "prompt": "S'ils ______ arrivés à l'heure, tout ______ parfait.",
    "content": {
    "options": [
    { "id": "opt_1", "text": "étaient / aurait été" },
    { "id": "opt_2", "text": "seraient / avait été" },
    { "id": "opt_3", "text": "avaient / serait été" }
    ],
    "correct_option_id": "opt_1"
    },
    "feedback": {
    "correct": "¡Perfecto! 1ª parte: Si + PQP (étaient). 2ª parte: Condicional Pasado (aurait été).",
    "incorrect": "Analiza: 'Ils sont arrivés' -> PQP 'Ils étaient arrivés'. El resultado usa 'Avoir' para 'été' (aurait été)."
    }
    },
    {
    "id": "ex_042",
    "type": "sentence_builder",
    "difficulty": "medium",
    "instruction": "Reconstruye la frase sobre 'gâcher' (arruinar).",
    "prompt": null,
    "content": {
    "segments": ["Tu", "as", "gâché", "la", "surprise"],
    "correct_order": ["Tu", "as", "gâché", "la", "surprise"],
    "distractors": ["gâcher", "es"]
    },
    "feedback": {
    "correct": "Bien. Passé composé simple: 'Tu as gâché' (Arruinaste).",
    "incorrect": "Usa el participio 'gâché' con el auxiliar Avoir."
    }
    },
    {
    "id": "ex_043",
    "type": "selection_single",
    "difficulty": "hard",
    "instruction": "Identifica el error en la frase.",
    "prompt": "Si nous avions agi, nous n'aurions pas eu ce problème.",
    "content": {
    "options": [
    { "id": "opt_1", "text": "La frase es correcta." },
    { "id": "opt_2", "text": "Debe ser 'Si nous aurions agi'." },
    { "id": "opt_3", "text": "Debe ser 'nous n'avions pas eu'." }
    ],
    "correct_option_id": "opt_1"
    },
    "feedback": {
    "correct": "¡Exacto! La frase es gramaticalmente perfecta (Si + PQP, Condicional Pasado).",
    "incorrect": "No hay error. 'Avions agi' (PQP) y 'Aurions eu' (Condicional Pasado) están bien usados."
    }
    },
    {
    "id": "ex_044",
    "type": "full_translation",
    "difficulty": "hard",
    "instruction": "Traduce: 'Habríamos podido arreglar (rattraper) el error'.",
    "prompt": "Habríamos podido arreglar el error.",
    "content": {
    "placeholder": "Escribe la frase completa...",
    "accepted_answers": [
    "Nous aurions pu rattraper l'erreur.",
    "On aurait pu rattraper l'erreur.",
    "Nous aurions pu rattraper la faute."
    ],
    "special_characters": ["é", "è", "à", "ç", "ê", "î", "ô", "ù"]
    },
    "feedback": {
    "correct": "Excelente. 'Aurions pu' + infinitivo 'rattraper'.",
    "incorrect": "Recuerda: Poder = Pouvoir (Participio 'pu'). Arreglar = Rattraper."
    }
    },
    {
        "id": "ex_reading_02",
        "type": "reading_comprehension",
        "difficulty": "hard",
        "instruction": "Lisez le texte, réfléchissez aux questions, puis vérifiez.",
        "prompt": "Le premier projet important",
        "content": {
          "text": "Une semaine après son arrivée, Sophie a déjà beaucoup de travail. Aujourd'hui, elle doit présenter un projet de rénovation pour un vieil immeuble dans le centre de Paris. C'est une grande responsabilité.<br><br>Elle prépare la présentation avec Julien. Ils regardent les plans et discutent des couleurs. Julien est très calme, mais Sophie est stressée parce que le client est exigeant. La réunion commence à 14 heures précises.<br><br>Heureusement, tout se passe bien. Le client aime les idées modernes de Sophie. À la sortie de la réunion, Julien félicite Sophie : « Bravo, tu as fait du bon travail ! ».",
          "questions": [
            {
              "id": "q1",
              "prompt": "Pourquoi Sophie est-elle stressée ?",
              "answer": "Parce qu'elle doit présenter un projet et le client est exigeant."
            },
            {
              "id": "q2",
              "prompt": "Que font Sophie et Julien avant la réunion ?",
              "answer": "Ils préparent la présentation, regardent les plans et discutent."
            },
            {
              "id": "q3",
              "prompt": "Quelle est la réaction du client ?",
              "answer": "Il aime les idées modernes de Sophie."
            }
          ]
        },
        "feedback": {
          "correct": "Excellent ! Vous avez bien compris les détails du texte.",
          "incorrect": null
        }
      },
      {
        "id": "ex_speaking_02",
        "type": "expression",
        "difficulty": "hard",
        "instruction": "Pratique orale : Parlez sans vous arrêter.",
        "prompt": "Sujet libre : 4 minutes",
        "content": {
            "theme": "Describe una situación difícil o un desafío que tuviste que resolver en el trabajo o en tus estudios. <br><br>Explica cuál era el problema, qué solución encontraste y cuál fue el resultado final. Usa el vocabulario: <em>problème, solution, décision, stress, succès</em>.",
            "duration_seconds": 240
        },
        "feedback": {
          "correct": "Très bien ! Structurer le récit (problème/action/résultat) aide à la clarté.",
          "incorrect": null
        }
      }
    ]
    }
    </script>